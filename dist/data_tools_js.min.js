!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.data_tools_js=t():e.data_tools_js=t()}(self,(()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{arraySum:()=>M,calculateIntervalDistribution:()=>P,default:()=>_,formatNum:()=>j,formatPercent:()=>O,getTypeOfVariable:()=>F,isNumber:()=>T,list2Dict:()=>S,list2Tree:()=>w,quartile:()=>N,quartileVal:()=>x,tree2List:()=>k});var r={};e.r(r),e.d(r,{getTypeOfVariable:()=>l,isNumber:()=>i});var n={};e.r(n),e.d(n,{formatNum:()=>u,formatPercent:()=>c});var a={};e.r(a),e.d(a,{arraySum:()=>p,calculateIntervalDistribution:()=>v,quartile:()=>d,quartileVal:()=>s});var o={};function i(e){return"number"==typeof e&&!isNaN(e)&&Number.isFinite(e)}function l(e){try{var t=Object.prototype.toString.call(e),r=t.match(/\[object (\w+)]/);return r?"generatorfunction"===(t=r[1].toLowerCase())?"generator":t:"none"}catch(e){return console.warn(e),"catch"}}function u(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=2),e||0===e?i(e)?Math.abs(e)>=1e12?(e/1e12).toFixed(r)+" 万亿":Math.abs(e)>=1e8?(e/1e8).toFixed(r)+" 亿":Math.abs(e)>=1e4?(e/1e4).toFixed(r)+" 万":e.toFixed(r):e:t}function c(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=2),e||0===e?i(e)?e.toFixed(r)+"%":e:t}e.r(o),e.d(o,{list2Dict:()=>h,list2Tree:()=>b,tree2List:()=>m});var f=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};function p(e){return e.reduce((function(e,t){return e+t}),0)}function s(e,t,r){var n=e*(t+1);if(Number.isInteger(n))return r[n+1];var a=Math.floor(n)-1,o=Math.ceil(n)-1;return(r[a]+r[o])/2}function d(e){var t=f([],e,!0);t.sort((function(e,t){return e-t}));var r=t.length;return{min:t[0],max:t[r-1],p05:s(.05,r,t),p10:s(.1,r,t),p15:s(.15,r,t),p20:s(.2,r,t),p25:s(.25,r,t),p50:s(.5,r,t),p75:s(.75,r,t),p80:s(.8,r,t),p85:s(.85,r,t),p90:s(.9,r,t),p95:s(.95,r,t),len:r,mean:p(t)/r}}function v(e,t){for(var r=Math.min.apply(Math,e),n=Math.max.apply(Math,e),a=(n-r)/t,o=new Array(t).fill(0),i=0;i<e.length;i++){var l=e[i];if(l===n)o[t-1]++;else o[Math.floor((l-r)/a)]++}return{distribution:o,step:a}}var y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)};function h(e,t,r){for(var n={},a=0;a<e.length;a++){var o=e[a];n[o[t]]=r?o[r]:o}return n}function b(e,t){void 0===t&&(t={key:"key",parent:"parent"});for(var r=t.key,n=t.parent,a={},o=0;o<e.length;o++){var i=e[o][r];a[i]=y(y({},e[o]),{children:a[i]?a[i].children:[]});var l=e[o][n];l&&(a[l]||(a[l]={key:l,children:[]}),a[l].children.push(a[i]))}return Object.values(a).filter((function(e){return!e[n]}))}function m(e,t){void 0===t&&(t={key:"key",parent:"parent"});for(var r=[],n=0;n<e.length;n++){var a=e[n],o=y({},a);if(delete o.children,r.push(o),a.children&&a.children.length){var i=m(a.children,t);r=r.concat(i)}}return r}var g=function(){return g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)},j=u,O=c,M=p,x=s,N=d,P=v,S=h,w=b,k=m,F=l,T=i;const _=g(g(g(g({},n),a),o),r);return t})()));